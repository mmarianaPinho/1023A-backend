<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Lista de Tarefas</title>
</head>
<body>
    <h1>Minhas aulas</h1>

    <form id="formTarefa">
        <input type="text" id="descricao" placeholder="Digite a tarefa" required>
        <button type="submit">Adicionar</button>
    </form>

    <ul id="ListaTarefas"></ul>
<script>
    async function buscaDados(){
        const resposta = await fetch("http://localhost:8000/tarefas")
        const ul = document.getElementById("ListaTarefas")
        ul.innerHTML = "";

        if(resposta.status === 200){
            const dados = await resposta.json()
            dados.forEach(tarefa => {
                const li = document.createElement("li")
                li.innerText = tarefa.descricao
                li.style.marginBottom = "8px"


                li.appendChild(document.createTextNode(" "));
                ul.appendChild(li);
            })
        } else {
            alert("Erro ao buscar tarefas")
        }
    }

    buscaDados();
    </script>
</body>
</html>